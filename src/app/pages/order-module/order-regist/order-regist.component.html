<h2 class="text-center text-dark m-4">Orden de reparación</h2>
<h5 class="text-center text-dark m-4">Registro de orden</h5>
<hr>

<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="row">

                <div class="col-md-12">
                    <form (ngSubmit)="saveOrder(forma)" #forma="ngForm">
                        <div class="row container ml-1 mt-4">
         
                            <div class="col-md-12 mt-2">
                                <label>Dueño</label>
                                <select [class.is-invalid]="idCustomer.invalid && idCustomer.touched" class="custom-select selectpicker form-control form-control-sm" data-live-search="true" type="text" title="Seleccione Cliente" name="idCustomer" [(ngModel)]="objOrder.idCustomer" required #idCustomer="ngModel">
                                    <option *ngFor="let customer of arrCustomers"  [ngValue]="customer._id" > {{customer.strFullName}} </option>
                                </select>
                                <div class="invalid-feedback" *ngIf="idCustomer.errors?.required">
                                    <small>
                                        Por favor, seleccione una opción.
                                    </small>
                                </div>
                            </div>

                            <div class="col-md-4 mt-2">
                                <label>Dispositivo</label>
                                <input [class.is-invalid]="strDevice.invalid && strDevice.touched" class="form-control form-control-sm" type="text " name="strDevice" [(ngModel)]="objOrder.strDevice" required #strDevice="ngModel">
                                <div class="invalid-feedback" *ngIf="strDevice.errors?.required">
                                    <small>
                                        Por favor, ingrese que dispositivo es.
                                    </small>
                                </div>
                            </div>

                            <div class="col-md-4 mt-2">
                                <label>Modelo</label>
                                <input [class.is-invalid]="strModel.invalid && strModel.touched" class="form-control form-control-sm" type="text " name="strModel" [(ngModel)]="objOrder.strModel" required #strModel="ngModel">
                                <div class="invalid-feedback" *ngIf="strModel.errors?.required">
                                    <small>
                                        Por favor, ingrese el modelo de celular.
                                    </small>
                                </div>
                            </div>

                            <div class="col-md-4 mt-2">
                                <label>Color</label>
                                <input [class.is-invalid]="strColor.invalid && strColor.touched" class="form-control form-control-sm" type="text " name="strColor" [(ngModel)]="objOrder.strColor" required #strColor="ngModel">
                                <div class="invalid-feedback" *ngIf="strColor.errors?.required">
                                    <small>
                                        Por favor, ingrese un color.
                                    </small>
                                </div>
                            </div>

                            <div class="col-md-4 mt-2">
                                <label>Fecha de atención</label>
                                <input [class.is-invalid]="dteDateOfAttention.invalid && dteDateOfAttention.touched" class="form-control form-control-sm" type="date" max="3000-12-31" min="1000-01-01" name="dteDateOfAttention" [(ngModel)]="objOrder.dteDateOfAttention" required #dteDateOfAttention="ngModel">
                                <div class="invalid-feedback" *ngIf="dteDateOfAttention.errors?.required">
                                    <small>
                                        Por favor, ingrese la fecha de atención.
                                    </small>
                                </div>
                            </div>
                           
                            <div class="col-md-4 mt-2">
                                <label>IMEI</label>
                                <input [class.is-invalid]="strImei.invalid && strImei.touched" class="form-control form-control-sm" type="text " name="strImei" [(ngModel)]="objOrder.strImei" required #strImei="ngModel">
                                <div class="invalid-feedback" *ngIf="strImei.errors?.required">
                                    <small>
                                        Por favor, ingrese el núemero IMEI.
                                    </small>
                                </div>
                            </div>

                            <div class="col-md-4 mt-2">
                                <label> $ Monto</label>
                                <input [class.is-invalid]="strAmountPayable.invalid && strAmountPayable.touched" class="form-control form-control-sm" type="text " name="strAmountPayable" [(ngModel)]="objOrder.strAmountPayable" required #strAmountPayable="ngModel">
                                <div class="invalid-feedback" *ngIf="strAmountPayable.errors?.required">
                                    <small>
                                        Por favor, ingrese el monto que se pagó.
                                    </small>
                                </div>
                            </div>                                                        
                            
                            <div class="col-md-12 mt-2">
                                <label>Trabajo a realizar</label>
                                <textarea [class.is-invalid]="strWorkToDo.invalid && strWorkToDo.touched" class="form-control form-control-sm" rows="3" placeholder="Observaciones" name="strWorkToDo" [(ngModel)]="objOrder.strWorkToDo" required #strWorkToDo="ngModel"></textarea>
                                <div class="invalid-feedback" *ngIf="strWorkToDo.errors?.required">
                                    <small>
                                        Por favor, ingrese la descripción del problema del dispositivo.
                                    </small>
                                </div>
                            </div>                 
                        </div>
                        
                        <div class="container ml-2 mt-2 mb-5">
                            <div class="row">
                                <div class="col-12 col-md-6 mt-1">          
                                        <button [disabled]="forma.invalid" type="sumbit" class="btn btn-sm btn-block btn-primary float-right">Registrar</button>                               
                                </div>
                                <div class="col-12 col-md-6 mt-1">
                                    <button [routerLink]="['/order-list']" type="sumbit" class="btn btn-sm btn-block btn-danger float-left">Volver</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>